@page "/graphicdesign"
<PageTitle>Ce - Graphic Design</PageTitle>

<MudGrid Class="pa-16" Spacing="4" Justify="Justify.Center">

    @if (_imageSources.Count > 0)
    {
        @foreach(var imageSource in _imageSources)
        {
            <MudItem xs="12" md="4" lg="3">
            <div style="position:relative;height:100%;width:100%;">
                    <MudImage  ObjectFit="ObjectFit.Cover" Style="height:100%;width:100%;" Src="@imageSource" Alt="Image" Elevation="3" />
            </div>
            </MudItem>
        }
    }

</MudGrid>

@code {
    private List<string> _imageSources = [];

    private string _illustrationDirectory = "./images/graphic design/";
    private string _illustrationDirectoryServer = "./wwwroot/images/graphic design/";

    // Find all 'Illustration' images
    protected override async Task OnInitializedAsync()
    {

        await Task.Run(() => { 
            var files = Directory.GetFiles(_illustrationDirectoryServer).ToList();
            foreach(var imgSource in files)
            {
                _imageSources.Add(Path.GetRelativePath("./wwwroot/", imgSource));
            }
        });

    }

}

